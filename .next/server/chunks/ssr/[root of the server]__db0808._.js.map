{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/LENOVO/Desktop/habibiParts-main/app/store/page.tsx"],"sourcesContent":["// app/store/page.tsx\nimport { createServerComponentClient } from '@supabase/auth-helpers-nextjs'\nimport { cookies } from 'next/headers'\nimport { unstable_noStore as noStore } from 'next/cache'\n\nexport const dynamic = 'force-dynamic'\n\nexport default async function StorePage() {\n  noStore()\n  \n  try {\n    const cookieStore = cookies()\n    const supabase = createServerComponentClient({ cookies: () => cookieStore })\n\n    // 1. ابتدا ساختار جدول را بررسی کنید\n    const { data: columns, error: columnsError } = await supabase\n      .rpc('get_table_columns', { table_name: 'Habibi' })\n\n    if (columnsError) {\n      console.error('Columns check failed:', columnsError)\n    } else {\n      console.log('Available columns:', columns)\n    }\n\n    // 2. کوئری اصلی با ستون‌های موجود\n    const { data: products, error } = await supabase\n      .from('Habibi')\n      .select('id, title, price, description, imag')\n      //.order('created_at', { ascending: false }) // این خط را حذف یا اصلاح کنید\n      .order('id', { ascending: false }) // استفاده از ستون موجود مانند id\n\n    if (error) throw error\n\n    return (\n      <div className=\"container mx-auto p-4\">\n        <h1 className=\"text-2xl font-bold mb-6\">محصولات</h1>\n        {products && products.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            {products.map(product => (\n              <div key={product.id} className=\"border p-4 rounded-lg\">\n                <h2 className=\"font-semibold\">{product.title}</h2>\n                <p className=\"text-gray-600\">\n                  {product.price?.toLocaleString('fa-IR')} تومان\n                </p>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-center py-8\">هیچ محصولی یافت نشد</p>\n        )}\n      </div>\n    )\n  } catch (err) {\n    console.error('Detailed Error:', JSON.stringify(err, null, 2))\n    return (\n      <div className=\"container mx-auto p-4 text-red-500 text-center\">\n        <h2 className=\"text-xl font-bold\">خطا در بارگذاری محصولات</h2>\n        <p>لطفاً با پشتیبانی تماس بگیرید</p>\n      </div>\n    )\n  }\n}"],"names":[],"mappings":"AAAA,qBAAqB;;;;;;AACrB;AACA;AACA;;;;;AAEO,MAAM,UAAU;AAER,eAAe;IAC5B,CAAA,GAAA,6HAAA,CAAA,mBAAO,AAAD;IAEN,IAAI;QACF,MAAM,cAAc,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;QAC1B,MAAM,WAAW,CAAA,GAAA,wKAAA,CAAA,8BAA2B,AAAD,EAAE;YAAE,SAAS,IAAM;QAAY;QAE1E,qCAAqC;QACrC,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,SAClD,GAAG,CAAC,qBAAqB;YAAE,YAAY;QAAS;QAEnD,IAAI,cAAc;YAChB,QAAQ,KAAK,CAAC,yBAAyB;QACzC,OAAO;YACL,QAAQ,GAAG,CAAC,sBAAsB;QACpC;QAEA,kCAAkC;QAClC,MAAM,EAAE,MAAM,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,SACrC,IAAI,CAAC,UACL,MAAM,CAAC,sCACR,2EAA2E;SAC1E,KAAK,CAAC,MAAM;YAAE,WAAW;QAAM,GAAG,iCAAiC;;QAEtE,IAAI,OAAO,MAAM;QAEjB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA0B;;;;;;gBACvC,YAAY,SAAS,MAAM,GAAG,kBAC7B,8OAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAA,wBACZ,8OAAC;4BAAqB,WAAU;;8CAC9B,8OAAC;oCAAG,WAAU;8CAAiB,QAAQ,KAAK;;;;;;8CAC5C,8OAAC;oCAAE,WAAU;;wCACV,QAAQ,KAAK,EAAE,eAAe;wCAAS;;;;;;;;2BAHlC,QAAQ,EAAE;;;;;;;;;yCASxB,8OAAC;oBAAE,WAAU;8BAAmB;;;;;;;;;;;;IAIxC,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,mBAAmB,KAAK,SAAS,CAAC,KAAK,MAAM;QAC3D,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAoB;;;;;;8BAClC,8OAAC;8BAAE;;;;;;;;;;;;IAGT;AACF"}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}